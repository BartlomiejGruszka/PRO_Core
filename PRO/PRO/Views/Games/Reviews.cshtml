@model PRO.ViewModels.GameDetailsViewModel
@{
    ViewBag.Title = "Reviews";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<partial name="~/Views/Shared/_GameTitleBar.cshtml" , model="Model.GameGameList.Game" />
<div id="content">

    <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tbody>
            <tr>
                <partial name="~/Views/Shared/_GameInfoBar.cshtml" , model="Model.GameGameList" />
                <td valign="top" style="padding-left: 5px;">
                    <div class="js-scrollfix-bottom-rel">
                        <div style=" margin:0 auto"></div><a name="lower"></a>

                        <table border="0" cellspacing="0" cellpadding="0" width="100%">
                            <tbody>
                                <tr>
                                    <td class="pb24">

                                        <div class="underlined_h2">
                                            <text class="">Wszystkie recenzje</text>
                                            <a style="float:right; text-decoration:none; font-weight:normal;" href="/games/@Model.GameGameList.Game.Id">Powrót</a>
                                        </div>
                                        @{
                                            var start = ViewBag.Pagination.pageIteratorStart;
                                            var end = ViewBag.Pagination.pageIteratorEnd;
                                            var reviewGametime = Model.ReviewGametimes.ToArray();
                                            for (var i = start; i <= end; i++)
                                            {
                                                <partial name="~/Views/Shared/_SingleReview.cshtml" , model="reviewGametime[i]" />
                                                <div class="underlined_h2"></div>
                                            }
                                        }

                                    </td>
                                </tr>

                            </tbody>

                        </table>
                    </div>
                    <div>
                        <ul class="pagination">
                            @{
                                var first = ViewBag.Pagination.firstPage;
                                var current = ViewBag.Pagination.currentPage;
                                var previous = ViewBag.Pagination.previousPage;
                                var items = ViewBag.Pagination.itemsPerPage;
                                var next = ViewBag.Pagination.nextPage;
                                var last = ViewBag.Pagination.lastPage;
                            }




                            @{
                                if (@current >= 3)
                                {
                                    <li class="page-item">
                                        <a class="page-link" href="/games/@Model.GameGameList.Game.Id/reviews?page=@first&items=@items">«</a>
                                    </li>
                                }
                                if (@current >= 2 && @previous != @current)
                                {
                                    <li class="page-item">
                                        <a class="page-link" href="/games/@Model.GameGameList.Game.Id/reviews?page=@previous&items=@items">@previous</a>
                                    </li>
                                }

                                <li class="page-item active">
                                    <a class="page-link" href="/games/@Model.GameGameList.Game.Id/reviews?page=@current&items=@items">@current</a>
                                </li>

                                if (@last > @current)
                                {
                                    <li class="page-item">
                                        <a class="page-link" href="/games/@Model.GameGameList.Game.Id/reviews?page=@next&items=@items">@next</a>
                                    </li>
                                }

                                if (@last > @current + 1)
                                {
                                    <li class="page-item">
                                        <a class="page-link" href="/games/@Model.GameGameList.Game.Id/reviews?page=@last&items=@items">&raquo;</a>
                                    </li>
                                }
                            }
                        </ul>
                    </div>
                </td>
            </tr>
        </tbody>

    </table>

</div>

